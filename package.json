{
  "name": "track-your-regions",
  "version": "1.0.0",
  "private": true,
  "description": "Track Your Regions",
  "scripts": {
    "help": "echo '\nTrack Your Regions - Available Commands\n========================================\n\nGeneral:\n  help                     Show this help\n  build                    Build backend + frontend\n  lint                     Lint backend + frontend\n  lint:fix                 Lint and auto-fix backend + frontend\n  typecheck                Type check backend + frontend\n  check                    Run lint + typecheck\n\nDevelopment:\n  dev                      Start all services (Docker)\n  dev:stop                 Stop all services (Docker)\n  dev:rebuild              Rebuild and restart all services\n  dev:restart              Stop, rebuild, and start all services\n  dev:backend              Start backend only (local, no Docker)\n  dev:backend:stop         Stop backend container\n  dev:backend:rebuild      Rebuild and restart backend container\n  dev:backend:restart      Stop, rebuild, start backend\n  dev:frontend             Start frontend only (local, no Docker)\n  dev:frontend:stop        Stop frontend container\n  dev:frontend:rebuild     Rebuild and restart frontend container\n  dev:frontend:restart     Stop, rebuild, start frontend\n\nTesting:\n  test                     Run backend + frontend unit/integration tests\n  test:fast                Alias of test\n  test:coverage            Run backend + frontend coverage\n  test:e2e:smoke           Run Playwright smoke E2E\n  test:e2e:full            Run Playwright full E2E\n\nLogs (follow mode):\n  logs                     All services\n  logs:backend             Backend only\n  logs:frontend            Frontend only\n  logs:db                  Database only\n  logs:martin              Martin only\n\nDatabase:\n  db:up                    Start PostgreSQL container\n  db:down                  Stop PostgreSQL container\n  db:create [name]         Create new database and switch to it\n  db:list                  List all databases\n  db:use <name>            Switch to a database (restarts Martin)\n  db:drop <name>           Drop a database (not golden)\n  db:status                Show current DB info\n  db:shell                 Open psql shell\n  db:load-gadm             Load GADM data (~30 min)\n  db:dump [file]           Dump DB to file\n  db:restore file          Restore DB from dump\n  db:run-sql               Run SQL from stdin (pipe a .sql file)\n  db:mark-golden           Protect current DB from deletion\n  db:unmark-golden         Remove golden protection\n\nMartin:\n  martin                   Start Martin standalone (reads active DB)\n  martin:restart           Restart Martin Docker container\n  martin:stop              Stop Martin container\n  martin:logs              Follow Martin logs\n\nSecurity:\n  security:scan            Semgrep SAST scan (via Docker)\n  security:deps            npm audit for backend + frontend\n  security:all             Run security:scan + security:deps\n\nTip:\n  npm run                  Show all script names from package.json\n'",
    "dev": "docker compose up",
    "dev:stop": "docker compose down",
    "dev:rebuild": "docker compose up --build",
    "dev:restart": "docker compose down && docker compose up --build",
    "dev:backend": "npm --prefix backend run dev",
    "dev:backend:stop": "docker compose stop backend",
    "dev:backend:rebuild": "docker compose up -d --build backend",
    "dev:backend:restart": "docker compose stop backend && docker compose up -d --build backend",
    "dev:frontend": "npm --prefix frontend run dev",
    "dev:frontend:stop": "docker compose stop frontend",
    "dev:frontend:rebuild": "docker compose up -d --build frontend",
    "dev:frontend:restart": "docker compose stop frontend && docker compose up -d --build frontend",
    "build": "npm --prefix backend run build && npm --prefix frontend run build",
    "lint": "npm --prefix backend run lint && npm --prefix frontend run lint",
    "lint:fix": "npm --prefix backend run lint:fix && npm --prefix frontend run lint:fix",
    "typecheck": "npm --prefix backend run typecheck && npm --prefix frontend run typecheck",
    "check": "npm run lint && npm run typecheck",
    "test": "node scripts/test-report.mjs test",
    "test:fast": "node scripts/test-report.mjs fast",
    "test:coverage": "node scripts/test-report.mjs coverage",
    "test:e2e:smoke": "node scripts/test-report.mjs e2e-smoke",
    "test:e2e:full": "node scripts/test-report.mjs e2e-full",
    "test:stack:up": "./scripts/test-stack.sh up",
    "test:stack:down": "./scripts/test-stack.sh down",
    "test:stack:status": "./scripts/test-stack.sh status",
    "test:stack:smoke": "./scripts/test-stack.sh smoke",
    "test:stack:full": "./scripts/test-stack.sh full",
    "db:up": "./scripts/db-cli.sh up",
    "db:down": "./scripts/db-cli.sh down",
    "db:create": "./scripts/db-cli.sh create",
    "db:list": "./scripts/db-cli.sh list",
    "db:use": "./scripts/db-cli.sh use",
    "db:drop": "./scripts/db-cli.sh drop",
    "db:mark-golden": "./scripts/db-cli.sh mark-golden",
    "db:unmark-golden": "./scripts/db-cli.sh unmark-golden",
    "db:load-gadm": "./scripts/db-cli.sh load-gadm",
    "db:shell": "./scripts/db-cli.sh shell",
    "db:status": "./scripts/db-cli.sh status",
    "db:dump": "./scripts/db-cli.sh dump",
    "db:restore": "./scripts/db-cli.sh restore",
    "db:run-sql": "docker compose exec -T db psql -U postgres -d $(cat .active-db 2>/dev/null || echo track_regions)",
    "martin": "./martin/run-martin.sh",
    "martin:restart": "docker compose restart martin",
    "martin:stop": "docker compose stop martin",
    "martin:logs": "docker compose logs -f martin",
    "logs": "docker compose logs -f",
    "logs:backend": "docker compose logs -f backend",
    "logs:frontend": "docker compose logs -f frontend",
    "logs:db": "docker compose logs -f db",
    "logs:martin": "docker compose logs -f martin",
    "security:scan": "docker run --rm -v \"${PWD}:/src\" semgrep/semgrep semgrep scan --config p/owasp-top-ten --config p/nodejs --config p/react --config p/secrets --error",
    "security:deps": "cd backend && npm audit --audit-level=moderate --omit=dev && cd ../frontend && npm audit --audit-level=moderate --omit=dev",
    "security:all": "npm run security:scan && npm run security:deps"
  },
  "keywords": [
    "geo",
    "tracking",
    "regions",
    "travel"
  ],
  "author": "Nikolay Martyanov",
  "license": "Apache-2.0",
  "engines": {
    "node": ">=20.0.0"
  }
}
